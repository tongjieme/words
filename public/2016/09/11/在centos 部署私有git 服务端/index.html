<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 在centos 部署私有git 服务端 · Tong Jiewen</title><meta name="description" content="在centos 部署私有git 服务端 - Tong Jiewen"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.jpg"><link rel="stylesheet" href="/css/apollo.css"><!-- - var xml = config.url + '/atom.xml'//- link(rel="search", type="application/opensearchdescription+xml", href=xml, title=config.title)--></head><body><div class="wrap"><header><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/tongjieme" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/qr.html" target="_self" class="nav-list-link">QRCODE</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">在centos 部署私有git 服务端</h1><div class="post-info">Sep 11, 2016</div><div class="post-content"><h2 id="新增一个名为git-的用户"><a href="#新增一个名为git-的用户" class="headerlink" title="新增一个名为git 的用户"></a>新增一个名为git 的用户</h2><p>然后更改密码<br>服务端执行<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo useradd git</div><div class="line">sudo passwd git</div></pre></td></tr></table></figure></p>
<h2 id="然后安装git"><a href="#然后安装git" class="headerlink" title="然后安装git"></a>然后安装git</h2><p>服务端执行<br>CentOS/Fedora: yum install git<br>Ubuntu/Debian: apt-get install git</p>
<h2 id="生成SSH-Key"><a href="#生成SSH-Key" class="headerlink" title="生成SSH Key"></a>生成SSH Key</h2><p>本地电脑执行<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -C <span class="string">"youremail@mailprovider.com"</span></div><div class="line">Generating public/private rsa key pair.</div><div class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/home/flynn/.ssh/id_rsa):</div><div class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):</div><div class="line">Enter same passphrase again: </div><div class="line">Your identification has been saved <span class="keyword">in</span> foo_rsa.</div><div class="line">Your public key has been saved <span class="keyword">in</span> foo_rsa.pub.</div><div class="line">The key fingerprint is:</div><div class="line">ab:<span class="built_in">cd</span>:ef:01:23:45:67:89:0a:bc:de:f0:12:34:56:78 flynn@en.com</div><div class="line">The key<span class="string">'s randomart image is:</span></div><div class="line">+--[ RSA 2048]----+</div><div class="line">|    o+-+  ..     |</div><div class="line">|  E o            |</div><div class="line">|   . ++.o..      |</div><div class="line">|    o o H .      |</div><div class="line">|   . .   =       |</div><div class="line">|    . =o.o=      |</div><div class="line">| o .             |</div><div class="line">|  .              |</div><div class="line">|     = o  .      |</div><div class="line">+-----------------+</div></pre></td></tr></table></figure></p>
<h2 id="将生成的SSH-Key放回服务端的git用户下"><a href="#将生成的SSH-Key放回服务端的git用户下" class="headerlink" title="将生成的SSH Key放回服务端的git用户下"></a>将生成的SSH Key放回服务端的git用户下</h2><p>服务端执行<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo su git</div><div class="line">mkdir ~/.ssh &amp;&amp; touch ~/.ssh/authorized_keys</div><div class="line">nano ~/.ssh/authorized_keys</div></pre></td></tr></table></figure></p>
<p>然后粘贴第一步生成的foo_rsa.pub 内容到 服务端的~/.ssh/authorized_keys 文件中<br>保存</p>
<h2 id="生成一个本地仓"><a href="#生成一个本地仓" class="headerlink" title="生成一个本地仓"></a>生成一个本地仓</h2><p>服务端执行<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git init --bare my-project.git</div></pre></td></tr></table></figure></p>
<h2 id="然后clone到本地电脑"><a href="#然后clone到本地电脑" class="headerlink" title="然后clone到本地电脑"></a>然后clone到本地电脑</h2><p>本地电脑执行<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> ssh://git@server_ip:ssh_port/path/to/my-project.git</div></pre></td></tr></table></figure></p>
<h2 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h2><p>至此, 你已经可以执行git相关指令了</p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/09/11/在终端上使用 github/" class="prev">上一篇</a></div></footer></div></body></html>